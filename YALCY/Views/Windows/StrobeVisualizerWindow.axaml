<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:components="clr-namespace:YALCY.Views.Components"
        x:Class="YALCY.Views.Windows.StrobeVisualizerWindow"
        Title="Strobe Visualizer"
        Width="700" Height="500"
        MinWidth="200" MinHeight="200"
        CanResize="True"
        WindowStartupLocation="CenterOwner"
        ExtendClientAreaToDecorationsHint="True"
        Background="#0f111a">

    <Grid RowDefinitions="Auto,*">
        <!-- Enhanced Title Bar with Status Info -->
        <Border Background="#4D000000" 
                Height="30"
                PointerPressed="OnTitleBarPointerPressed">
            <Grid ColumnDefinitions="Auto,*,Auto,Auto">
                <!-- Pin Button -->
                <StackPanel Orientation="Horizontal" Grid.Column="0">
                    <Button x:Name="PinButton"
                            Width="30" Height="30"
                            Background="Transparent"
                            Foreground="White"
                            BorderThickness="0"
                            Click="OnPinButtonClick">
                        <PathIcon Width="15" Height="15"
                                Data="M160 96C160 78.3 174.3 64 192 64L448 64C465.7 64 480 78.3 480 96C480 113.7 465.7 128 448 128L418.5 128L428.8 262.1C465.9 283.3 494.6 318.5 507 361.8L510.8 375.2C513.6 384.9 511.6 395.2 505.6 403.3C499.6 411.4 490 416 480 416L160 416C150 416 140.5 411.3 134.5 403.3C128.5 395.3 126.5 384.9 129.3 375.2L133 361.8C145.4 318.5 174 283.3 211.2 262.1L221.5 128L192 128C174.3 128 160 113.7 160 96zM288 464L352 464L352 576C352 593.7 337.7 608 320 608C302.3 608 288 593.7 288 576L288 464z"/>
                    </Button>

                    <!-- Dark Mode Button -->
                    <Button x:Name="DarkButton"
                            Width="30" Height="30"
                            Background="Transparent"
                            Foreground="White"
                            BorderThickness="0"
                            Click="OnDarkButtonClick">
                        <PathIcon Width="15" Height="15"
                                Data="M303.3 112.7C196.2 121.2 112 210.8 112 320C112 434.9 205.1 528 320 528C353.3 528 384.7 520.2 412.6 506.3C309.2 482.9 232 390.5 232 280C232 214.2 259.4 154.9 303.3 112.7zM64 320C64 178.6 178.6 64 320 64C339.4 64 358.4 66.2 376.7 70.3C386.6 72.5 394 80.8 395.2 90.8C396.4 100.8 391.2 110.6 382.1 115.2C321.5 145.4 280 207.9 280 280C280 381.6 362.4 464 464 464C469 464 473.9 463.8 478.8 463.4C488.9 462.6 498.4 468.2 502.6 477.5C506.8 486.8 504.6 497.6 497.3 504.6C451.3 548.8 388.8 576 320 576C178.6 576 64 461.4 64 320z"/>
                    </Button>
                </StackPanel>
                
                <!-- Title -->
                <TextBlock Grid.Column="1"
                           Text="Strobe Visualizer" 
                           VerticalAlignment="Center"
                           Foreground="White"
                           FontWeight="SemiBold"
                           Margin="10,0,0,0"/>
                
                <!-- Status Display -->
                <StackPanel Grid.Column="2" 
                            Orientation="Horizontal" 
                            VerticalAlignment="Center" 
                            Spacing="15"
                            Margin="10,0,10,0">
                    <TextBlock x:Name="StatusText" 
                               Text="DISABLED" 
                               Foreground="#cccccc" 
                               FontSize="12" 
                               FontWeight="Bold"/>
                    <TextBlock Text="|" 
                               Foreground="#666666" 
                               FontSize="12"/>
                    <TextBlock x:Name="SpeedText" 
                               Text="Off @0" 
                               Foreground="#cccccc" 
                               FontSize="12" 
                               FontWeight="Bold"/>
                    <TextBlock Text="|" 
                               Foreground="#666666" 
                               FontSize="12"/>
                </StackPanel>
                
                <!-- Window Controls Spacer -->
                <Border Grid.Column="3" Width="140"/>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <Border x:Name="MainContent" Grid.Row="1" Padding="10">            
            <!-- Strobe Effect Display -->
            <Canvas x:Name="StrobeCanvas" 
                    Background="#1a1d2a">
                <!-- Strobe effects will be drawn here -->
            </Canvas>
        </Border>
    </Grid>
    
</Window>
